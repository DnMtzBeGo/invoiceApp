<div class="new-order-container" #ordersRef>
  <div class="new-order-wrapper" [ngClass]="cardIsOpen ? 'card-open' : ''">
    <div class="steps-body">
      <div class="order-header">
        <h1 (click)="jumpStepTitle()">{{ typeOrder }}</h1>
      </div>

      <bego-marks class="order-stepper-wrapper" type="number"></bego-marks>

      <bego-stepper [withControls]="false" [allowKeysMovement]="false" [config]="stepperOptions" (stepChange)="calculateProgress()">
        <bego-step [completed]="stepsValidate[0]">
          <app-step1
            [locations]="locations"
            (step1FormData)="getStep1FormData($event)"
            (validFormStep1)="validStep1($event)"
            [draftData]="draftData"
            [orderWithCP]="isOrderWithCP"
          ></app-step1>
        </bego-step>

        <bego-step [completed]="stepsValidate[1]">
          <app-step2
            [locations]="locations"
            (step2FormData)="getStep2FormData($event)"
            (validFormStep2)="validStep2($event)"
            [draftData]="draftData"
            [orderWithCP]="isOrderWithCP"
          ></app-step2>
        </bego-step>

        <bego-step [completed]="stepsValidate[2]">
          <app-step3
            [creationdatepickup]="datepickup"
            [creationTime]="creationTime"
            (step3FormData)="getStep3FormData($event)"
            (validFormStep3)="validStep3($event)"
            [draftData]="draftData"
            [orderWithCP]="isOrderWithCP"
            [editCargoWeightNow]="editCargoWeightNow"
            (cargoWeightEdited)="cargoWeightEdited()"
            [hazardousFileAWS]="hazardousFileAWS"
            [catalogsDescription]="catalogsDescription"
          ></app-step3>
        </bego-step>

        <bego-step [completed]="stepsValidate[3]">
          <app-step4
            [orderData]="orderData"
            (step4FormData)="getStep4FormData($event)"
            (validFormStep4)="validStep4($event)"
          ></app-step4>
        </bego-step>
      </bego-stepper>

      <div class="footer">
        <bego-button size="small" [activated]="true" background="none" (click)="prevSlide()" *ngIf="currentStepIndex">
          <i class="icon icon-arrow-left back-arrow-icon"></i>
          {{ "orders.back" | translate }}
        </bego-button>

        <bego-button [activated]="!btnStatusNext" background="yellow" (click)="nextSlide()">
          {{ ordersSteps[currentStepIndex].nextBtnTxt }}
        </bego-button>
      </div>
    </div>
  </div>
</div>
