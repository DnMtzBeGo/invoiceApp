<div class="profile">

    <div class="profile-info-wrapper">



      <div class="profile-info">

        <div class="profile-pic">
          <img 
            [src]="profileImg"
            (error)="profilePicError()"
            alt="">

            <div 
              class="close-btn"
              *ngIf="!noProfilePic"
              (click)="showDeleteProfilePicModal = true">
            </div>
        </div>

        <div class="profile-pic-error-msg" [style.opacity]=" selectePicBiggerThan5MB ? '1' : '0' ">
          <p>{{'profile.account.profile-pic-less-5mb' | translate }}</p>
          <p>{{'profile.account.pic-not-uploaded' | translate }}</p>
        </div>
        
        <div class="edit-profile-btns">
          <div class="pic-btn yellow" (click)="profilePicInput.click()">
            {{ 'profile.account.upload-btn' | translate }}
          </div>
          <!-- input to get file to send to db-->
          <input
            #profilePicInput
            accept=".png, .jpg, .jpeg"
            hidden
            type="file" 
            (change)="uploadProfilepicFromComputer()">
          <div class="pic-btn gray" (click)="showTakePicOverlay()">
            {{ 'profile.account.take-pic' | translate }}
          </div>
        </div>

        <div class="general-info">
          <div class="name">
            {{ profileInfo?.nickname }}
          </div>
          <div class="number-orders">
            {{ ordersCount }}
          </div>
          <div class="order-label">
            {{ 'profile.account.txt_orders' | translate }}
          </div>
        </div>

        <div class="fleet-info">
          <div class="name">
            <h3>Rol</h3>
            <p>Driver Manager</p>
          </div>
          <div class="name">
            <h3>Flotilla</h3>
            <p>Camioneros</p>
          </div>
        </div>

      </div>


    </div>

    <div class="routes">

        <div class="tabs-container">
          <div class="orders-list-type">
            <div 
              *ngFor="let tab of Object.keys(orderTabs), index as i"
              (click)="selectTab(i)"
              [routerLink]="orderTabs[tab].url"
              [ngClass]="{'type-selected' : currentTabIndex ==  i  }">
                {{ orderTabs[tab].text | translate }}
            </div>
          </div>
        </div>

      <router-outlet></router-outlet>
     
    </div>

    <div class="picture-layout" [hidden]="!showCamera"> <!-- showCamera -->
      <div class="background"></div>
      <div class="picture-content">
        <div>
          <video 
            #video 
            autoplay>
          </video>
          <canvas hidden #canvas ></canvas>
        </div>
        <div class="picture-actions">
          <button mat-fab class="picture-btn" (click)="takePic()">
            <div>
              <img src="../../../assets/images/history/camera.svg" alt="camera button">          
            </div>
          </button>
  
          <div 
            class="close-btn"
            (click)="closePicShoot()">
          </div>
        </div>
      </div>
    </div>



 
 
</div>

<!-- modal when user is about to delete profile picture -->
<bego-alert
    *ngIf="showDeleteProfilePicModal"
    (close)="showDeleteProfilePicModal = false"
    [title]=" 'profile.account.txt-delete-profile-pic-title'  | translate "
    [handlers]="deleteProfilepicHandlers">
      {{ 'profile.account.txt-delete-profile-pic' | translate}}

</bego-alert>

